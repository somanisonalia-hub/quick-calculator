// Static content registry for modular content system
// This ensures all content is available at build time for static export


// Import multi-language calculator content
import salesTaxCalculator from '../../content/calculators/sales-tax-calculator.json';
import mortgageCalculator from '../../content/calculators/mortgage-calculator.json';
import loanCalculator from '../../content/calculators/loan-calculator.json';
import bmiCalculator from '../../content/calculators/bmi-calculator.json';
import creditCardCalculator from '../../content/calculators/credit-card-calculator.json';
import savingsCalculator from '../../content/calculators/savings-calculator.json';
import taxCalculator from '../../content/calculators/tax-calculator.json';
import retirementCalculator from '../../content/calculators/retirement-calculator.json';
import carLoanCalculator from '../../content/calculators/car-loan-calculator.json';
import investmentCalculator from '../../content/calculators/investment-calculator.json';
import budgetCalculator from '../../content/calculators/budget-calculator.json';
import percentCalculator from '../../content/calculators/percent-calculator.json';
import paycheckCalculator from '../../content/calculators/paycheck-calculator.json';
import concreteCalculator from '../../content/calculators/concrete-calculator.json';
import emiCalculator from '../../content/calculators/emi-calculator.json';
import compoundInterestCalculator from '../../content/calculators/compound-interest-calculator.json';
import simpleInterestCalculator from '../../content/calculators/simple-interest-calculator.json';
import fractionCalculator from '../../content/calculators/fraction-calculator.json';
import squareFootageCalculator from '../../content/calculators/square-footage-calculator.json';
import percentageChangeCalculator from '../../content/calculators/percentage-change-calculator.json';
import ratioCalculator from '../../content/calculators/ratio-calculator.json';
import feetInchesCalculator from '../../content/calculators/feet-inches-calculator.json';
import meanMedianModeCalculator from '../../content/calculators/mean-median-mode-calculator.json';
import standardDeviationCalculator from '../../content/calculators/standard-deviation-calculator.json';
import tankVolumeCalculator from '../../content/calculators/tank-volume-calculator.json';
import inflationCalculator from '../../content/calculators/inflation-calculator.json';
import currencyConverter from '../../content/calculators/currency-converter.json';
import gpaCalculator from '../../content/calculators/gpa-calculator.json';
import propertyTaxCalculator from '../../content/calculators/property-tax-calculator.json';
import futureValueCalculator from '../../content/calculators/future-value-calculator.json';
import wordCounter from '../../content/calculators/word-counter.json';
import numbersToWordsConverter from '../../content/calculators/numbers-to-words-converter.json';
import advancedLoanCalculator from '../../content/calculators/advanced-loan-calculator.json';
import stockReturnCalculator from '../../content/calculators/stock-return-calculator.json';
import lifeInsuranceCalculator from '../../content/calculators/life-insurance-calculator.json';
import expenseCalculator from '../../content/calculators/expense-calculator.json';
import carInsuranceCalculator from '../../content/calculators/car-insurance-calculator.json';
import healthInsuranceCalculator from '../../content/calculators/health-insurance-calculator.json';
import hourlyToSalaryCalculator from '../../content/calculators/hourly-to-salary-calculator.json';
import overtimePayCalculator from '../../content/calculators/overtime-pay-calculator.json';
import biweeklyPayCalculator from '../../content/calculators/biweekly-pay-calculator.json';
import cryptoRoiCalculator from '../../content/calculators/crypto-roi-calculator.json';
import debtConsolidationCalculator from '../../content/calculators/debt-consolidation-calculator.json';
import interestOnlyMortgageCalculator from '../../content/calculators/interest-only-mortgage-calculator.json';
import scientificCalculator from '../../content/calculators/scientific-calculator.json';
import percentageCalculator from '../../content/calculators/percentage-calculator.json';
import ageCalculator from '../../content/calculators/age-calculator.json';
import averageCalculator from '../../content/calculators/average-calculator.json';
import tipCalculator from '../../content/calculators/tip-calculator.json';
import passwordGenerator from '../../content/calculators/password-generator.json';
import dateCalculator from '../../content/calculators/date-calculator.json';
import bmrCalculator from '../../content/calculators/bmr-calculator.json';
import bodyFatCalculator from '../../content/calculators/body-fat-calculator.json';
import calorieCalculator from '../../content/calculators/calorie-calculator.json';
import idealWeightCalculator from '../../content/calculators/ideal-weight-calculator.json';
import netIncomeCalculator from '../../content/calculators/net-income-calculator.json';
import takeHomePayCalculator from '../../content/calculators/take-home-pay-calculator.json';
import incomeTaxCalculator from '../../content/calculators/income-tax-calculator.json';
import proteinIntakeCalculator from '../../content/calculators/protein-intake-calculator.json';
import waterIntakeCalculator from '../../content/calculators/water-intake-calculator.json';
import leanBodyMassCalculator from '../../content/calculators/lean-body-mass-calculator.json';
import maintenanceCaloriesCalculator from '../../content/calculators/maintenance-calories-calculator.json';
import tdeeCalculator from '../../content/calculators/tdee-calculator.json';
import waistToHipRatioCalculator from '../../content/calculators/waist-to-hip-ratio-calculator.json';
import discountCalculator from '../../content/calculators/discount-calculator.json';
import electricityCostCalculator from '../../content/calculators/electricity-cost-calculator.json';
import calorieDeficitCalculator from '../../content/calculators/calorie-deficit-calculator.json';

// Missing calculator imports
import amortizationScheduleCalculator from '../../content/calculators/amortization-schedule-calculator.json';
import aprCalculator from '../../content/calculators/apr-calculator.json';
import basicAprCalculator from '../../content/calculators/basic-apr-calculator.json';
import carAffordabilityCalculator from '../../content/calculators/car-affordability-calculator.json';
import circleAreaCalculator from '../../content/calculators/circle-area-calculator.json';
import circleCircumferenceCalculator from '../../content/calculators/circle-circumference-calculator.json';
import debtRatiosCalculator from '../../content/calculators/debt-ratios-calculator.json';
import earCalculator from '../../content/calculators/ear-calculator.json';
import effectiveInterestRateCalculator from '../../content/calculators/effective-interest-rate-calculator.json';
import equalPrincipalAmortizationCalculator from '../../content/calculators/equal-principal-amortization-calculator.json';
import equivalentInterestRateCalculator from '../../content/calculators/equivalent-interest-rate-calculator.json';
import homeAffordabilityCalculator from '../../content/calculators/home-affordability-calculator.json';
import interestRateTableCalculator from '../../content/calculators/interest-rate-table-calculator.json';
import liquidityRatiosCalculator from '../../content/calculators/liquidity-ratios-calculator.json';
import loanAffordabilityCalculator from '../../content/calculators/loan-affordability-calculator.json';
import loanPaymentTableGenerator from '../../content/calculators/loan-payment-table-generator.json';
import nominalInterestRateCalculator from '../../content/calculators/nominal-interest-rate-calculator.json';
import operationsRatiosCalculator from '../../content/calculators/operations-ratios-calculator.json';
import periodicInterestRateCalculator from '../../content/calculators/periodic-interest-rate-calculator.json';
import pythagoreanTheoremCalculator from '../../content/calculators/pythagorean-theorem-calculator.json';
import quadraticEquationCalculator from '../../content/calculators/quadratic-equation-calculator.json';
import surfaceAreaCalculator from '../../content/calculators/surface-area-calculator.json';
import triangleAreaCalculator from '../../content/calculators/triangle-area-calculator.json';
import volumeCalculator from '../../content/calculators/volume-calculator.json';
import calculator401k from '../../content/calculators/401k-calculator.json';
import bloodPressureCalculator from '../../content/calculators/blood-pressure-calculator.json';
import creditCardPayoff from '../../content/calculators/credit-card-payoff.json';
import debtPayoffCalculator from '../../content/calculators/debt-payoff-calculator.json';
import debtToIncomeCalculator from '../../content/calculators/debt-to-income-calculator.json';
import decimalToFractionCalculator from '../../content/calculators/decimal-to-fraction-calculator.json';
import dueDateCalculator from '../../content/calculators/due-date-calculator.json';
import emergencyFund from '../../content/calculators/emergency-fund.json';
import examScorePredictor from '../../content/calculators/exam-score-predictor.json';
import exponentCalculator from '../../content/calculators/exponent-calculator.json';
import factorialCalculator from '../../content/calculators/factorial-calculator.json';
import fractionDecimal from '../../content/calculators/fraction-decimal.json';
import fuelCost from '../../content/calculators/fuel-cost.json';
import gcdLcmCalculator from '../../content/calculators/gcd-lcm-calculator.json';
import geometryArea from '../../content/calculators/geometry-area.json';
import gradeCalculator from '../../content/calculators/grade-calculator.json';
import heightCalculator from '../../content/calculators/height-calculator.json';
import interestCalculator from '../../content/calculators/interest-calculator.json';
import investmentPlanner from '../../content/calculators/investment-planner.json';
import investmentReturn from '../../content/calculators/investment-return.json';
import linearEquation from '../../content/calculators/linear-equation.json';
import loanAffordability from '../../content/calculators/loan-affordability.json';
import loanComparison from '../../content/calculators/loan-comparison.json';
import loanRepayment from '../../content/calculators/loan-repayment.json';
import logarithmCalculator from '../../content/calculators/logarithm-calculator.json';
import longDivisionCalculator from '../../content/calculators/long-division-calculator.json';
import loveCalculator from '../../content/calculators/love-calculator.json';
import macroCalculator from '../../content/calculators/macro-calculator.json';
import midpointCalculator from '../../content/calculators/midpoint-calculator.json';
import netWorth from '../../content/calculators/net-worth.json';
import numberBaseConverter from '../../content/calculators/number-base-converter.json';
import ovulationCalculator from '../../content/calculators/ovulation-calculator.json';
import paceCalculator from '../../content/calculators/pace-calculator.json';
import percentileCalculator from '../../content/calculators/percentile-calculator.json';
import personalBudget from '../../content/calculators/personal-budget.json';
import pregnancyCalculator from '../../content/calculators/pregnancy-calculator.json';
import primeFactorizationCalculator from '../../content/calculators/prime-factorization-calculator.json';
import probabilityCalculator from '../../content/calculators/probability-calculator.json';
import profitabilityRatiosCalculator from '../../content/calculators/profitability-ratios-calculator.json';
import ratioProportion from '../../content/calculators/ratio-proportion.json';
import retirementPlan from '../../content/calculators/retirement-plan.json';
import retirementSavings from '../../content/calculators/retirement-savings.json';
import romanNumeralConverter from '../../content/calculators/roman-numeral-converter.json';
import rothIraCalculator from '../../content/calculators/roth-ira-calculator.json';
import salaryPayroll from '../../content/calculators/salary-payroll.json';
import salaryTax from '../../content/calculators/salary-tax.json';
import savingsGoal from '../../content/calculators/savings-goal.json';
import savingsInterest from '../../content/calculators/savings-interest.json';
import shippingCost from '../../content/calculators/shipping-cost.json';
import sleepCalculator from '../../content/calculators/sleep-calculator.json';
import slopeCalculator from '../../content/calculators/slope-calculator.json';
import socialSecurityCalculator from '../../content/calculators/social-security-calculator.json';
import squareRootCalculator from '../../content/calculators/square-root-calculator.json';
import stockRatiosCalculator from '../../content/calculators/stock-ratios-calculator.json';
import studyHoursPlanner from '../../content/calculators/study-hours-planner.json';
import tripPlanner from '../../content/calculators/trip-planner.json';
import unitConverterTool from '../../content/calculators/unit-converter.json';
import bodyCompositionCalculator from '../../content/calculators/body-composition-calculator.json';
import energyExpenditureCalculator from '../../content/calculators/energy-expenditure-calculator.json';
import fitnessMetricsCalculator from '../../content/calculators/fitness-metrics-calculator.json';
import nutritionAnalysisCalculator from '../../content/calculators/nutrition-analysis-calculator.json';
import wellnessTrackerCalculator from '../../content/calculators/wellness-tracker-calculator.json';

export type ContentType = 'calculators' | 'categories' | 'homepage' | 'labels';

export interface ContentLoaderOptions {
  language: string;
  type: ContentType;
  slug?: string;
}

// Registry of all available content
export const contentRegistry: Record<string, any> = {
  // Multi-language calculators
  'calculators-sales-tax-calculator': salesTaxCalculator,
  'calculators-mortgage-calculator': mortgageCalculator,
  'calculators-loan-calculator': loanCalculator,
  'calculators-bmi-calculator': bmiCalculator,
  'calculators-credit-card-calculator': creditCardCalculator,
  'calculators-savings-calculator': savingsCalculator,
  'calculators-tax-calculator': taxCalculator,
  'calculators-retirement-calculator': retirementCalculator,
  'calculators-car-loan-calculator': carLoanCalculator,
  'calculators-investment-calculator': investmentCalculator,
  'calculators-budget-calculator': budgetCalculator,
  'calculators-percent-calculator': percentCalculator,
  'calculators-paycheck-calculator': paycheckCalculator,
  'calculators-concrete-calculator': concreteCalculator,
  'calculators-emi-calculator': emiCalculator,
  'calculators-compound-interest-calculator': compoundInterestCalculator,
  'calculators-simple-interest-calculator': simpleInterestCalculator,
  'calculators-fraction-calculator': fractionCalculator,
  'calculators-square-footage-calculator': squareFootageCalculator,
  'calculators-percentage-change-calculator': percentageChangeCalculator,
  'calculators-ratio-calculator': ratioCalculator,
  'calculators-feet-inches-calculator': feetInchesCalculator,
  'calculators-mean-median-mode-calculator': meanMedianModeCalculator,
  'calculators-standard-deviation-calculator': standardDeviationCalculator,
  'calculators-tank-volume-calculator': tankVolumeCalculator,
  'calculators-inflation-calculator': inflationCalculator,
  'calculators-currency-converter': currencyConverter,
  'calculators-gpa-calculator': gpaCalculator,
  'calculators-property-tax-calculator': propertyTaxCalculator,
  'calculators-future-value-calculator': futureValueCalculator,
  'calculators-word-counter-calculator': wordCounter,
  'calculators-numbers-to-words-converter': numbersToWordsConverter,
  'calculators-advanced-loan-calculator': advancedLoanCalculator,
  'calculators-stock-return-calculator': stockReturnCalculator,
  'calculators-life-insurance-calculator': lifeInsuranceCalculator,
  'calculators-expense-calculator': expenseCalculator,
  'calculators-car-insurance-calculator': carInsuranceCalculator,
  'calculators-health-insurance-calculator': healthInsuranceCalculator,
  'calculators-hourly-to-salary-calculator': hourlyToSalaryCalculator,
  'calculators-overtime-pay-calculator': overtimePayCalculator,
  'calculators-biweekly-pay-calculator': biweeklyPayCalculator,
  'calculators-crypto-roi-calculator': cryptoRoiCalculator,
  'calculators-debt-consolidation-calculator': debtConsolidationCalculator,
  'calculators-interest-only-mortgage-calculator': interestOnlyMortgageCalculator,
  'calculators-scientific-calculator': scientificCalculator,
  'calculators-percentage-calculator': percentageCalculator,
  'calculators-age-calculator': ageCalculator,
  'calculators-average-calculator': averageCalculator,
  'calculators-tip-calculator': tipCalculator,
  'calculators-password-generator-calculator': passwordGenerator,
  'calculators-date-calculator': dateCalculator,
  'calculators-bmr-calculator': bmrCalculator,
  'calculators-body-fat-calculator': bodyFatCalculator,
  'calculators-calorie-calculator': calorieCalculator,
  'calculators-ideal-weight-calculator': idealWeightCalculator,
  'calculators-net-income-calculator': netIncomeCalculator,
  'calculators-take-home-pay-calculator': takeHomePayCalculator,
  'calculators-income-tax-calculator': incomeTaxCalculator,
  'calculators-protein-intake-calculator': proteinIntakeCalculator,
  'calculators-water-intake-calculator': waterIntakeCalculator,
  'calculators-lean-body-mass-calculator': leanBodyMassCalculator,
  'calculators-maintenance-calories-calculator': maintenanceCaloriesCalculator,
  'calculators-tdee-calculator': tdeeCalculator,
  'calculators-waist-to-hip-ratio-calculator': waistToHipRatioCalculator,
  'calculators-discount-calculator': discountCalculator,
  'calculators-electricity-cost-calculator': electricityCostCalculator,
  'calculators-calorie-deficit-calculator': calorieDeficitCalculator,
  // Missing calculator entries
  'calculators-amortization-schedule-calculator': amortizationScheduleCalculator,
  'calculators-apr-calculator': aprCalculator,
  'calculators-basic-apr-calculator': basicAprCalculator,
  'calculators-car-affordability-calculator': carAffordabilityCalculator,
  'calculators-circle-area-calculator': circleAreaCalculator,
  'calculators-circle-circumference-calculator': circleCircumferenceCalculator,
  'calculators-debt-ratios-calculator': debtRatiosCalculator,
  'calculators-ear-calculator': earCalculator,
  'calculators-effective-interest-rate-calculator': effectiveInterestRateCalculator,
  'calculators-equal-principal-amortization-calculator': equalPrincipalAmortizationCalculator,
  'calculators-equivalent-interest-rate-calculator': equivalentInterestRateCalculator,
  'calculators-home-affordability-calculator': homeAffordabilityCalculator,
  'calculators-interest-rate-table-calculator': interestRateTableCalculator,
  'calculators-liquidity-ratios-calculator': liquidityRatiosCalculator,
  'calculators-loan-affordability-calculator': loanAffordabilityCalculator,
  'calculators-loan-payment-table-generator': loanPaymentTableGenerator,
  'calculators-nominal-interest-rate-calculator': nominalInterestRateCalculator,
  'calculators-operations-ratios-calculator': operationsRatiosCalculator,
  'calculators-periodic-interest-rate-calculator': periodicInterestRateCalculator,
  'calculators-pythagorean-theorem-calculator': pythagoreanTheoremCalculator,
  'calculators-quadratic-equation-calculator': quadraticEquationCalculator,
  'calculators-surface-area-calculator': surfaceAreaCalculator,
  'calculators-triangle-area-calculator': triangleAreaCalculator,
  
  'calculators-401k-calculator': calculator401k,
  'calculators-blood-pressure-calculator': bloodPressureCalculator,
  'calculators-credit-card-payoff': creditCardPayoff,
  'calculators-debt-payoff-calculator': debtPayoffCalculator,
  'calculators-debt-to-income-calculator': debtToIncomeCalculator,
  'calculators-decimal-to-fraction-calculator': decimalToFractionCalculator,
  'calculators-due-date-calculator': dueDateCalculator,
  'calculators-emergency-fund': emergencyFund,
  'calculators-exam-score-predictor': examScorePredictor,
  'calculators-exponent-calculator': exponentCalculator,
  'calculators-factorial-calculator': factorialCalculator,
  'calculators-fraction-decimal': fractionDecimal,
  'calculators-fuel-cost': fuelCost,
  'calculators-gcd-lcm-calculator': gcdLcmCalculator,
  'calculators-geometry-area': geometryArea,
  'calculators-grade-calculator': gradeCalculator,
  'calculators-height-calculator': heightCalculator,
  'calculators-interest-calculator': interestCalculator,
  'calculators-investment-planner': investmentPlanner,
  'calculators-investment-return': investmentReturn,
  'calculators-linear-equation': linearEquation,
  'calculators-loan-affordability': loanAffordability,
  'calculators-loan-comparison': loanComparison,
  'calculators-loan-repayment': loanRepayment,
  'calculators-logarithm-calculator': logarithmCalculator,
  'calculators-long-division-calculator': longDivisionCalculator,
  'calculators-love-calculator': loveCalculator,
  'calculators-macro-calculator': macroCalculator,
  'calculators-midpoint-calculator': midpointCalculator,
  'calculators-net-worth': netWorth,
  'calculators-number-base-converter': numberBaseConverter,
  'calculators-ovulation-calculator': ovulationCalculator,
  'calculators-pace-calculator': paceCalculator,
  'calculators-percentile-calculator': percentileCalculator,
  'calculators-personal-budget': personalBudget,
  'calculators-pregnancy-calculator': pregnancyCalculator,
  'calculators-prime-factorization-calculator': primeFactorizationCalculator,
  'calculators-probability-calculator': probabilityCalculator,
  'calculators-profitability-ratios-calculator': profitabilityRatiosCalculator,
  'calculators-ratio-proportion': ratioProportion,
  'calculators-retirement-plan': retirementPlan,
  'calculators-retirement-savings': retirementSavings,
  'calculators-roman-numeral-converter': romanNumeralConverter,
  'calculators-roth-ira-calculator': rothIraCalculator,
  'calculators-salary-payroll': salaryPayroll,
  'calculators-salary-tax': salaryTax,
  'calculators-savings-goal': savingsGoal,
  'calculators-savings-interest': savingsInterest,
  'calculators-shipping-cost': shippingCost,
  'calculators-sleep-calculator': sleepCalculator,
  'calculators-slope-calculator': slopeCalculator,
  'calculators-social-security-calculator': socialSecurityCalculator,
  'calculators-square-root-calculator': squareRootCalculator,
  'calculators-stock-ratios-calculator': stockRatiosCalculator,
  'calculators-study-hours-planner': studyHoursPlanner,
  'calculators-trip-planner': tripPlanner,
  'calculators-unit-converter': unitConverterTool,
  'calculators-volume-calculator': volumeCalculator,
  'calculators-body-composition-calculator': bodyCompositionCalculator,
  'calculators-energy-expenditure-calculator': energyExpenditureCalculator,
  'calculators-fitness-metrics-calculator': fitnessMetricsCalculator,
  'calculators-nutrition-analysis-calculator': nutritionAnalysisCalculator,
  'calculators-wellness-tracker-calculator': wellnessTrackerCalculator,
};

/**
 * Load content synchronously from the registry
 * This works with static export since all content is bundled at build time
 */
export function loadContent({ language, type, slug }: ContentLoaderOptions): any {
  const key = `${language}-${type}${slug ? `-${slug}` : ''}`;

  const content = contentRegistry[key];
  if (!content) {
    console.warn(`Content not found: ${key}`);
    // Return default content based on type
    return getDefaultContent(type, language);
  }

  return content;
}

/**
 * Load calculator content - handles both single-language and multi-language files
 */
export function loadCalculatorContent(language: string, slug: string) {
  // First try the new multi-language format (key: "calculators-{slug}")
  const multiLangKey = `calculators-${slug}`;
  const multiLangContent = contentRegistry[multiLangKey];
  if (multiLangContent && typeof multiLangContent === 'object' && multiLangContent[language]) {
    return multiLangContent[language];
  }

  // Fallback to old single-language format (key: "{lang}-calculators-{slug}")
  const singleLangKey = `${language}-calculators-${slug}`;
  const singleLangContent = contentRegistry[singleLangKey];
  if (singleLangContent) {
    return singleLangContent;
  }

  // Last resort: try English version
  if (language !== 'en') {
    const englishKey = `en-calculators-${slug}`;
    const englishContent = contentRegistry[englishKey];
    if (englishContent) {
      return englishContent;
    }
  }

  return null;
}

/**
 * Load category content
 */
export function loadCategoryContent(language: string, slug: string) {
  return loadContent({ language, type: 'categories', slug });
}

/**
 * Load homepage content
 */
export function loadHomepageContent(language: string) {
  return loadContent({ language, type: 'homepage' });
}

/**
 * Load UI labels
 */
export function loadLabels(language: string) {
  return loadContent({ language, type: 'labels' });
}

/**
 * Get default/fallback content when specific content is not available
 */
function getDefaultContent(type: ContentType, language: string): any {
  switch (type) {
    case 'labels':
      return {
        nav: { home: 'Home', calculators: 'Calculators', about: 'About', contact: 'Contact' },
        categories: { math: 'Math', financial: 'Financial', health: 'Health' },
        footer: { description: 'Free calculators', copyright: '¬© 2026' },
        common: { loading: 'Loading...', calculate: 'Calculate' }
      };
    case 'homepage':
      return {
        title: 'Free Online Calculators',
        description: 'Use our free online calculators',
        hero: { title: 'Free Calculators', description: 'Calculate anything online' }
      };
    case 'categories':
      return {
        title: 'Calculator Category',
        description: 'Various calculators',
        calculators: []
      };
    case 'calculators':
      return {
        title: 'Calculator',
        description: 'Free online calculator',
        introduction: { title: 'About', content: 'This is a calculator' }
      };
    default:
      return {};
  }
}

/**
 * Get available languages
 */
export function getAvailableLanguages(): string[] {
  return ['en', 'es', 'fr', 'de', 'pt', 'it', 'ja', 'ko', 'zh', 'ru'];
}

/**
 * Get available calculators for a language
 */
export function getAvailableCalculators(language: string): string[] {
  const calculators: string[] = [];

  // Add old format calculators (single language per file)
  const oldFormatKeys = Object.keys(contentRegistry).filter(key =>
    key.startsWith(`${language}-calculators-`)
  );
  calculators.push(...oldFormatKeys.map(key => key.replace(`${language}-calculators-`, '')));

  // Add new format calculators (multi-language in one file)
  const newFormatKeys = Object.keys(contentRegistry).filter(key =>
    key.startsWith('calculators-')
  );
  calculators.push(...newFormatKeys.map(key => key.replace('calculators-', '')));

  // Remove duplicates and sort
  return [...new Set(calculators)].sort();
}

/**
 * Get available categories for a language
 */
export function getAvailableCategories(language: string): string[] {
  // Return categories available for the language
  const availableKeys = Object.keys(contentRegistry).filter(key =>
    key.startsWith(`${language}-categories-`)
  );
  return availableKeys.map(key => key.replace(`${language}-categories-`, ''));
}
/**
 * Get all calculators with their metadata for client-side use
 * This works in client components without requiring fs
 */
export function getAllCalculatorsMetadata(language: string = 'en') {
  const calculators: Array<{
    slug: string;
    name: string;
    title: string;
    summary: string;
    icon?: string;
    category?: string;
    featured?: boolean;
  }> = [];

  // Get all calculator keys from registry
  const calculatorKeys = Object.keys(contentRegistry).filter(key =>
    key.startsWith('calculators-')
  );

  for (const key of calculatorKeys) {
    const slug = key.replace('calculators-', '');
    const content = contentRegistry[key];
    
    if (content && content[language]) {
      const langContent = content[language];
      calculators.push({
        slug: langContent.slug || slug,
        name: langContent.title || slug,
        title: langContent.title || slug,
        summary: langContent.summary || langContent.description || '',
        icon: langContent.icon || getCalculatorIcon(slug),
        category: langContent.category,
        featured: langContent.featured || false
      });
    }
  }

  return calculators;
}

/**
 * Get calculator icon by slug (fallback)
 */
function getCalculatorIcon(slug: string): string {
  const iconMap: Record<string, string> = {
    // Financial
    'mortgage-calculator': 'üè†',
    'loan-calculator': 'üí∞',
    'savings-calculator': 'üí∞',
    'budget-calculator': 'üìä',
    'credit-card-calculator': 'üí≥',
    'investment-calculator': 'üìà',
    'retirement-calculator': 'üèñÔ∏è',
    'tax-calculator': 'üíµ',
    'emi-calculator': 'üìä',
    'car-loan-calculator': 'üöó',
    'income-tax-calculator': 'üíµ',
    'compound-interest-calculator': 'üíπ',
    'simple-interest-calculator': 'üíπ',
    'property-tax-calculator': 'üèòÔ∏è',
    'sales-tax-calculator': 'üõí',
    
    // Health
    'bmi-calculator': '‚öñÔ∏è',
    'calorie-calculator': 'üçé',
    'bmr-calculator': 'üî•',
    'body-fat-calculator': 'üèãÔ∏è',
    'ideal-weight-calculator': '‚öñÔ∏è',
    'protein-intake-calculator': 'ü•©',
    'water-intake-calculator': 'üíß',
    'tdee-calculator': 'üî•',
    'macro-calculator': 'üçΩÔ∏è',
    'calorie-deficit-calculator': 'üìâ',
    
    // Math
    'percentage-calculator': 'üìê',
    'fraction-calculator': 'üî¢',
    'average-calculator': 'üìä',
    'ratio-calculator': 'üìè',
    'scientific-calculator': 'üßÆ',
    'standard-deviation-calculator': 'üìà',
    'circle-area-calculator': '‚≠ï',
    'pythagorean-theorem-calculator': 'üìê',
    
    // Lifestyle
    'age-calculator': 'üéÇ',
    'tip-calculator': 'üçΩÔ∏è',
    'gpa-calculator': 'üéì',
    'date-calculator': 'üìÖ',
    
    // Utility
    'word-counter': 'üìù',
    'unit-converter': 'üîÑ',
    'currency-converter': 'üí±',
    'password-generator': 'üîê',
    'numbers-to-words-converter': 'üî§'
  };
  return iconMap[slug] || 'üßÆ';
}